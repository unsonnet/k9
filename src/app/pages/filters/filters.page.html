<div class="filter-container">
  @for (group of filterGroups; track group[0]) {
  <div class="filter-group">
    <h3>{{ group[1].label }}</h3>
    @for (filter of group[1].filters; track filter[0]) {
    <div class="filter-row">
      @if (filter[1].type === 'number') {
      <app-number-input
        [groupKey]="group[0]"
        [filterKey]="filter[0]"
        [filterData]="filter[1]"
      />
      } @else {
      <app-slider-input
        [groupKey]="group[0]"
        [filterKey]="filter[0]"
        [filterData]="filter[1]"
      />
      }
    </div>
    }
    <mat-checkbox
      [(ngModel)]="group[1].includeMissing"
      name="{{ group[0] }}.includeMissing"
    >
      Include missing
    </mat-checkbox>
  </div>
  }
  <div class="filter-button">
    <button mat-raised-button color="primary" (click)="applyFilters()">
      Filter
    </button>
  </div>
</div>
